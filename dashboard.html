<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - ARG-distributor</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/dashboard.css">
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <span>A R G Distributor pvt LTD</span>
            </div>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-item">
                <a href="dashboard.html" class="nav-link active">
                    <i class="nav-icon fas fa-home"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" id="chequeOpsToggle">
                    <i class="nav-icon fas fa-file-invoice"></i>
                    <span class="nav-text">Cheque Operations</span>
                    <i class="nav-arrow fas fa-chevron-down"></i>
                </a>
                <div class="submenu" id="chequeOpsSubmenu">
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-arrow-down"></i>
                        <span class="submenu-text">IN Cheques</span>
                    </a>
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-arrow-up"></i>
                        <span class="submenu-text">OUT Cheques</span>
                    </a>
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-plus"></i>
                        <span class="submenu-text">Add Cheque</span>
                    </a>
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-print"></i>
                        <span class="submenu-text">Print Cheque</span>
                    </a>
                </div>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" id="scheduleToggle">
                    <i class="nav-icon fas fa-calendar-alt"></i>
                    <span class="nav-text">Schedule & Tracking</span>
                    <i class="nav-arrow fas fa-chevron-down"></i>
                </a>
                <div class="submenu" id="scheduleSubmenu">
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-calendar-day"></i>
                        <span class="submenu-text">Daily Schedule</span>
                    </a>
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-receipt"></i>
                        <span class="submenu-text">Expected Receipts</span>
                    </a>
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-users"></i>
                        <span class="submenu-text">Third Party Transfers</span>
                    </a>
                </div>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link">
                    <i class="nav-icon fas fa-chart-bar"></i>
                    <span class="nav-text">Reports</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" id="bankToggle">
                    <i class="nav-icon fas fa-university"></i>
                    <span class="nav-text">Bank Management</span>
                    <i class="nav-arrow fas fa-chevron-down"></i>
                </a>
                <div class="submenu" id="bankSubmenu">
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-building"></i>
                        <span class="submenu-text">Banks</span>
                    </a>
                    <a href="#" class="submenu-link">
                        <i class="submenu-icon fas fa-code-branch"></i>
                        <span class="submenu-text">Bank Branches</span>
                    </a>
                </div>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link">
                    <i class="nav-icon fas fa-users-cog"></i>
                    <span class="nav-text">User Management</span>
                    <i class="nav-arrow fas fa-chevron-down"></i>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link">
                    <i class="nav-icon fas fa-user-circle"></i>
                    <span class="nav-text">Profile</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="header-logo">
                    <span>A R G Distributor pvt LTD</span>
                </div>
            </div>

            <div class="header-right">
                <span class="welcome-text">Welcome, Admin</span>
                <button class="logout-btn" onclick="window.location.href='login.html'">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Page Header -->
            <div class="page-header">
                <h1>Dashboard</h1>
                <p class="page-subtitle">Overview of your cheque management system</p>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card green">
                    <div class="stat-header">
                        <div>
                            <div class="stat-number">8</div>
                            <div class="stat-label">IN HAND</div>
                            <div class="stat-amount">LKR 424,678.00</div>
                        </div>
                        <div class="stat-icon-lg green">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                    </div>
                </div>

                <div class="stat-card orange">
                    <div class="stat-header">
                        <div>
                            <div class="stat-number">60</div>
                            <div class="stat-label">SENT OUT</div>
                            <div class="stat-amount">LKR 12,018,937.00</div>
                        </div>
                        <div class="stat-icon-lg orange">
                            <i class="fas fa-paper-plane"></i>
                        </div>
                    </div>
                </div>

                <div class="stat-card cyan">
                    <div class="stat-header">
                        <div>
                            <div class="stat-number">0</div>
                            <div class="stat-label">TO DEPOSIT (TODAY)</div>
                            <div class="stat-amount">LKR 0.00</div>
                        </div>
                        <div class="stat-icon-lg cyan">
                            <i class="fas fa-university"></i>
                        </div>
                    </div>
                </div>

                <div class="stat-card blue">
                    <div class="stat-header">
                        <div>
                            <div class="stat-number">0</div>
                            <div class="stat-label">COMING TO OUR BANK (TODAY)</div>
                            <div class="stat-amount">LKR 0.00</div>
                        </div>
                        <div class="stat-icon-lg blue">
                            <i class="fas fa-building"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule Section -->
            <div class="schedule-section">
                <div class="schedule-card">
                    <div class="schedule-header">
                        <h2>Today's Banking Schedule</h2>
                    </div>
                    <div class="schedule-body">
                        <div class="schedule-empty">
                            <i class="fas fa-calendar-times"></i>
                            <span>No cheques scheduled for banking today</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- OUT Cheque Trends -->
                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">OUT Cheque Value Trends (Next 30 Days)</h3>
                        <p class="card-subtitle">Expected daily OUT cheque values for the next month</p>
                    </div>
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="outChequeChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- IN Returned Analysis -->
                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">IN Returned Analysis (Last 12 Months)</h3>
                        <p class="card-subtitle">IN cheques returned by month and amount</p>
                    </div>
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="inReturnedChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // OUT Cheque Trends Chart
        const outCtx = document.getElementById('outChequeChart').getContext('2d');
        const outChequeChart = new Chart(outCtx, {
            type: 'line',
            data: {
                labels: Array.from({length: 30}, (_, i) => `Day ${i + 1}`),
                datasets: [{
                    label: 'OUT Cheque Value',
                    data: Array.from({length: 30}, () => Math.floor(Math.random() * 500000) + 100000),
                    borderColor: '#f59e0b',
                    backgroundColor: 'rgba(245, 158, 11, 0.1)',
                    borderWidth: 2,
                    fill: true,
                    tension: 0.4,
                    pointRadius: 3,
                    pointHoverRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'LKR ' + context.parsed.y.toLocaleString();
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#f3f4f6'
                        },
                        ticks: {
                            callback: function(value) {
                                return 'LKR ' + (value / 1000) + 'K';
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });

        // IN Returned Analysis Chart
        const inCtx = document.getElementById('inReturnedChart').getContext('2d');
        const inReturnedChart = new Chart(inCtx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'Returned Cheques',
                    data: [12, 8, 15, 10, 6, 14, 9, 11, 7, 13, 5, 10],
                    backgroundColor: '#17a2b8',
                    borderColor: '#17a2b8',
                    borderWidth: 1,
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#f3f4f6'
                        },
                        ticks: {
                            stepSize: 5
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                }
            }
        });

        // Sidebar Toggle
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
        });

        // Submenu Toggle
        const chequeOpsToggle = document.getElementById('chequeOpsToggle');
        const chequeOpsItem = chequeOpsToggle.closest('.nav-item');

        const scheduleToggle = document.getElementById('scheduleToggle');
        const scheduleItem = scheduleToggle.closest('.nav-item');

        const bankToggle = document.getElementById('bankToggle');
        const bankItem = bankToggle.closest('.nav-item');

        chequeOpsToggle.addEventListener('click', (e) => {
            e.preventDefault();
            chequeOpsItem.classList.toggle('expanded');
        });

        scheduleToggle.addEventListener('click', (e) => {
            e.preventDefault();
            scheduleItem.classList.toggle('expanded');
        });

        bankToggle.addEventListener('click', (e) => {
            e.preventDefault();
            bankItem.classList.toggle('expanded');
        });

        // Mobile Sidebar Toggle
        if (window.innerWidth <= 768) {
            sidebarToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                sidebar.classList.toggle('show');
            });
            
            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', (e) => {
                if (!sidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
                    sidebar.classList.remove('show');
                }
            });
        }

        console.log('Pixzar Cheques Dashboard loaded successfully!');
    </script>
</body>

</html>